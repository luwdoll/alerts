function customAlerts(i,t){function n(i,t,n){var e,r,s,a=localStorage.getItem("n")||"",c="",l=i?Object.keys(i).length:0;if("granted"===Notification.permission&&l>0){for(var f=0;l>f;f++){var d=i[f].alert_id;c+=d}for(var u=0;l>u;u++){var m=i[u].text,p=i[u].icon,g=i[u].primary_url,y=p.indexOf("http"),b=p.indexOf("' border");e=p.substring(y,b)||null,r=jQuery(m).text(),s=i[u].alert_id,a.indexOf(s)<0&&o(n,r,e,s,g)}localStorage.setItem("n",c)}}function o(i,t,n,o,e){var r={body:t,icon:n,tag:o},s=new Notification(i,r);setTimeout(s.close.bind(s),1e4),s.onclick=function(){window.open(e,"_blank")}}if(body.classList.contains("alerts-0"))return!1;if(!i||"string"!=typeof i)throw"Error: "+i+" must be a string.";var e=i,r=t&&"number"==typeof t&&t>15e3?t:15e3,s={url:"index.php?recent_alerts=1&js=1",dataType:"json",success:function(i,t){n(i,t,e)}};window.setInterval(function(){console.log("polling every "+r+" milliseconds..."),jQuery.ajax(s)},r)}body.classList.contains("alerts-0")||window.addEventListener("load",function(){window.Notification&&"granted"!==Notification.permission&&Notification.requestPermission(function(i){Notification.permission!==i&&(Notification.permission=i)})});