function customAlerts(i,n){function t(i,n,t){var e,r,a,s=localStorage.getItem("n")||"",c="",f=i?Object.keys(i).length:0;if("granted"===Notification.permission&&f>0){for(var l=0;f>l;l++){var d=i[l].alert_id;c+=d}for(var u=0;f>u;u++){var m=i[u].text,p=i[u].icon,g=i[u].primary_url,v=p.indexOf("http"),w=p.indexOf("' border");e=p.substring(v,w)||null,r=jQuery(m).text(),a=i[u].alert_id,s.indexOf(a)<0&&o(t,r,e,a,g)}localStorage.setItem("n",c)}}function o(i,n,t,o,e){var r={body:n,icon:t,tag:o},a=new Notification(i,r);setTimeout(a.close.bind(a),1e4),a.onclick=function(){window.open(e,"_blank")}}if(!i||"string"!=typeof i)throw"Error: "+i+" must be a string.";var e=i,r=n&&"number"==typeof n&&n>15e3?n:15e3,a={url:"index.php?recent_alerts=1&js=1",dataType:"json",success:function(i,n){t(i,n,e)}};window.setInterval(function(){console.log("polling every "+r+" milliseconds..."),jQuery.ajax(a)},r)}window.addEventListener("load",function(){window.Notification&&"granted"!==Notification.permission&&Notification.requestPermission(function(i){Notification.permission!==i&&(Notification.permission=i)})});